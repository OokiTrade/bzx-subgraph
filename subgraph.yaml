specVersion: 0.0.2
description: bZx is a protocol for borrowing, lending, and margin trading
repository: https://github.com/bZxNetwork/bzx-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: LoanOpeningsEvents
    network: optimism
    source:
      address: '0xAcedbFd5Bc1fb0dDC948579d4195616c05E74Fd1'
      abi: LoanOpeningsEvents
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanOpeningsEvents.ts
      abis:
        - name: LoanOpeningsEvents
          file: ./abis/LoanOpeningsEvents.json
      entities:
          - BorrowEvent
          - TradeEvent
      eventHandlers:
        - event: Borrow(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleBorrow
        - event: Trade(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleTrade
  - kind: ethereum/contract
    name: LoanClosingsEvents
    network: optimism
    source:
      address: '0xAcedbFd5Bc1fb0dDC948579d4195616c05E74Fd1'
      abi: LoanClosingsEvents
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanClosingsEvents.ts
      abis:
        - name: LoanClosingsEvents
          file: ./abis/LoanClosingsEvents.json
      entities:
          - CloseWithDepositEvent
          - CloseWithSwapEvent
          - LiquidateEvent
          - RolloverEvent
      eventHandlers:
        - event: CloseWithDeposit(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithDeposit
        - event: CloseWithSwap(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithSwap
        - event: Liquidate(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleLiquidate
        - event: Rollover(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleRollover
  - kind: ethereum/contract
    name: LoanMaintenanceEvents
    network: optimism
    source:
      address: '0xAcedbFd5Bc1fb0dDC948579d4195616c05E74Fd1'
      abi: LoanMaintenanceEvents
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanMaintenanceEvents.ts
      abis:
        - name: LoanMaintenanceEvents
          file: ./abis/LoanMaintenanceEvents.json
      entities:
          - DepositCollateralEvent
          - WithdrawCollateralEvent
          - ExtendLoanDurationEvent
          - ReduceLoanDurationEvent
          - ClaimRewardEvent
      eventHandlers:
        - event: DepositCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleDepositCollateral
        - event: WithdrawCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleWithdrawCollateral
        - event: ExtendLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256,uint256)
          handler: handleExtendLoanDuration
        - event: ReduceLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256)
          handler: handleReduceLoanDuration
        - event: ClaimReward(indexed address,indexed address,indexed address,uint256)
          handler: handleClaimReward
  - kind: ethereum/contract
    name: iBTC
    network: optimism
    source:
      address: '0x0515fDe94bb95d6A5b7640f8F0d3AC98C9390903'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iDAI
    network: optimism
    source:
      address: '0xE60d6142D3d683a58B02337E1F0D08C69B946aCF'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iETH
    network: optimism
    source:
      address: '0x10b158EDF554dc15dCdBFd93049759e6e35c1384'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iFRAX
    network: optimism
    source:
      address: '0x1dbc7f43d432C8E92762FC9680A5BcF4646FB5e5'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUSDC
    network: optimism
    source:
      address: '0xBFcf8755Ba9d23F7F0EBbA0da70819A907dA2aCC'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUSDT
    network: optimism
    source:
      address: '0x32246a17896d8b7aEc4AC4EDc3f5899D0f066855'
      abi: iToken
      startBlock: 8392449
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
