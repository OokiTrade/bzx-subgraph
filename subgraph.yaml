specVersion: 0.0.2
description: bZx is a protocol for borrowing, lending, and margin trading
repository: https://github.com/bZxNetwork/bzx-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: LoanOpeningsEvents
    network: bsc
    source:
      address: '0xC47812857A74425e2039b57891a3DFcF51602d5d'
      abi: LoanOpeningsEvents
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/LoanOpeningsEvents.ts
      abis:
        - name: LoanOpeningsEvents
          file: ./abis/LoanOpeningsEvents.json
      entities:
          - BorrowEvent
          - TradeEvent
      eventHandlers:
        - event: Borrow(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleBorrow
        - event: Trade(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleTrade
  - kind: ethereum/contract
    name: FeesEvents
    network: bsc
    source:
      address: '0xC47812857A74425e2039b57891a3DFcF51602d5d'
      abi: FeesEvents
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/FeesEvents.ts
      abis:
        - name: FeesEvents
          file: ./abis/FeesEvents.json
      entities:
          - PayLendingFeeEvent
          - SettleFeeRewardForInterestExpenseEvent
          - PayTradingFeeEvent
          - PayBorrowingFeeEvent
          - EarnRewardEvent
      eventHandlers:
        - event: PayLendingFee(indexed address,indexed address,uint256)
          handler: handlePayLendingFee
        - event: SettleFeeRewardForInterestExpense(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleSettleFeeRewardForInterestExpense
        - event: PayTradingFee(indexed address,indexed address,indexed bytes32,uint256)
          handler: handlePayTradingFee
        - event: PayBorrowingFee(indexed address,indexed address,indexed bytes32,uint256)
          handler: handlePayBorrowingFee
        - event: EarnReward(indexed address,indexed bytes32,indexed uint8,address,uint256)
          handler: handlEarnReward
  - kind: ethereum/contract
    name: ProtocolSettingsEvents
    network: bsc
    source:
      address: '0xC47812857A74425e2039b57891a3DFcF51602d5d'
      abi: ProtocolSettingsEvents
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/ProtocolSettingsEvents.ts
      abis:
        - name: ProtocolSettingsEvents
          file: ./abis/ProtocolSettingsEvents.json
      entities:
          - WithdrawLendingFeesEvent
          - WithdrawTradingFeesEvent
          - WithdrawBorrowingFeesEvent
      eventHandlers:
        - event: WithdrawLendingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawLendingFees
        - event: WithdrawTradingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawTradingFees
        - event: WithdrawBorrowingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawBorrowingFees
  - kind: ethereum/contract
    name: LoanClosingsEvents
    network: bsc
    source:
      address: '0xC47812857A74425e2039b57891a3DFcF51602d5d'
      abi: LoanClosingsEvents
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/LoanClosingsEvents.ts
      abis:
        - name: LoanClosingsEvents
          file: ./abis/LoanClosingsEvents.json
      entities:
          - CloseWithDepositEvent
          - CloseWithSwapEvent
          - LiquidateEvent
          - RolloverEvent
      eventHandlers:
        - event: CloseWithDeposit(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithDeposit
        - event: CloseWithSwap(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithSwap
        - event: Liquidate(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleLiquidate
        - event: Rollover(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleRollover
  - kind: ethereum/contract
    name: LoanMaintenanceEvents
    network: bsc
    source:
      address: '0xC47812857A74425e2039b57891a3DFcF51602d5d'
      abi: LoanMaintenanceEvents
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/LoanMaintenanceEvents.ts
      abis:
        - name: LoanMaintenanceEvents
          file: ./abis/LoanMaintenanceEvents.json
      entities:
          - DepositCollateralEvent
          - WithdrawCollateralEvent
          - ExtendLoanDurationEvent
          - ReduceLoanDurationEvent
          - ClaimRewardEvent
      eventHandlers:
        - event: DepositCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleDepositCollateral
        - event: WithdrawCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleWithdrawCollateral
        - event: ExtendLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256,uint256)
          handler: handleExtendLoanDuration
        - event: ReduceLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256)
          handler: handleReduceLoanDuration
        - event: ClaimReward(indexed address,indexed address,indexed address,uint256)
          handler: handleClaimReward
  - kind: ethereum/contract
    name: BZRX
    network: bsc
    source:
      address: '0x4b87642AEDF10b642BE4663Db842Ecc5A88bf5ba'
      abi: Token
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/Token.ts
      abis:
        - name: Token
          file: ./abis/Token.json
      entities:
          - TransferEvent
          - ApprovalEvent
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
  - kind: ethereum/contract
    name: iWBNB
    network: bsc
    source:
      address: '0x49646513609085f39D9e44b413c74530Ba6E2c0F'
      abi: iToken
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iETH
    network: bsc
    source:
      address: '0x949cc03E43C24A954BAa963A00bfC5ab146c6CE7'
      abi: iToken
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iBUSD
    network: bsc
    source:
      address: '0x7343b25c4953f4C57ED4D16c33cbEDEFAE9E8Eb9'
      abi: iToken
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iWBTC
    network: bsc
    source:
      address: '0x97eBF27d40D306aD00bb2922E02c58264b295a95'
      abi: iToken
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUSDT
    network: bsc
    source:
      address: '0xf326b42A237086F1De4E7D68F2d2456fC787bc01'
      abi: iToken
      startBlock: 5550835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
