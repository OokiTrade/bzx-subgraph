specVersion: 0.0.2
description: bZx is a protocol for borrowing, lending, and margin trading
repository: https://github.com/bZxNetwork/bzx-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: LoanOpeningsEvents
    network: mainnet
    source:
      address: '0xD8Ee69652E4e4838f2531732a46d1f7F584F0b7f'
      abi: LoanOpeningsEvents
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanOpeningsEvents.ts
      abis:
        - name: LoanOpeningsEvents
          file: ./abis/LoanOpeningsEvents.json
      entities:
          - BorrowEvent
          - TradeEvent
      eventHandlers:
        - event: Borrow(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleBorrow
        - event: Trade(indexed address,indexed address,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleTrade
  - kind: ethereum/contract
    name: ProtocolSettingsEvents
    network: mainnet
    source:
      address: '0xD8Ee69652E4e4838f2531732a46d1f7F584F0b7f'
      abi: ProtocolSettingsEvents
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/ProtocolSettingsEvents.ts
      abis:
        - name: ProtocolSettingsEvents
          file: ./abis/ProtocolSettingsEvents.json
      entities:
          - WithdrawLendingFeesEvent
          - WithdrawTradingFeesEvent
          - WithdrawBorrowingFeesEvent
      eventHandlers:
        - event: WithdrawLendingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawLendingFees
        - event: WithdrawTradingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawTradingFees
        - event: WithdrawBorrowingFees(indexed address,indexed address,indexed address,uint256)
          handler: handleWithdrawBorrowingFees
  - kind: ethereum/contract
    name: LoanClosingsEvents
    network: mainnet
    source:
      address: '0xD8Ee69652E4e4838f2531732a46d1f7F584F0b7f'
      abi: LoanClosingsEvents
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanClosingsEvents.ts
      abis:
        - name: LoanClosingsEvents
          file: ./abis/LoanClosingsEvents.json
      entities:
          - CloseWithDepositEvent
          - CloseWithSwapEvent
          - LiquidateEvent
          - RolloverEvent
      eventHandlers:
        - event: CloseWithDeposit(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithDeposit
        - event: CloseWithSwap(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleCloseWithSwap
        - event: Liquidate(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleLiquidate
        - event: Rollover(indexed address,indexed address,indexed bytes32,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleRollover
  - kind: ethereum/contract
    name: LoanMaintenanceEvents
    network: mainnet
    source:
      address: '0xD8Ee69652E4e4838f2531732a46d1f7F584F0b7f'
      abi: LoanMaintenanceEvents
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/LoanMaintenanceEvents.ts
      abis:
        - name: LoanMaintenanceEvents
          file: ./abis/LoanMaintenanceEvents.json
      entities:
          - DepositCollateralEvent
          - WithdrawCollateralEvent
          - ExtendLoanDurationEvent
          - ReduceLoanDurationEvent
          - ClaimRewardEvent
      eventHandlers:
        - event: DepositCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleDepositCollateral
        - event: WithdrawCollateral(indexed address,indexed address,indexed bytes32,uint256)
          handler: handleWithdrawCollateral
        - event: ExtendLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256,uint256)
          handler: handleExtendLoanDuration
        - event: ReduceLoanDuration(indexed address,indexed address,indexed bytes32,uint256,uint256)
          handler: handleReduceLoanDuration
        - event: ClaimReward(indexed address,indexed address,indexed address,uint256)
          handler: handleClaimReward
  - kind: ethereum/contract
    name: BZRX
    network: mainnet
    source:
      address: '0x56d811088235F11C8920698a204A5010a788f4b3'
      abi: Token
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/Token.ts
      abis:
        - name: Token
          file: ./abis/Token.json
      entities:
          - TransferEvent
          - ApprovalEvent
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
  - kind: ethereum/contract
    name: vBZRX
    network: mainnet
    source:
      address: '0xB72B31907C1C95F3650b64b2469e08EdACeE5e8F'
      abi: Token
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/Token.ts
      abis:
        - name: Token
          file: ./abis/Token.json
      entities:
          - TransferEvent
          - ApprovalEvent
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
  - kind: ethereum/contract
    name: LPT
    network: mainnet
    source:
      address: '0xe26A220a341EAca116bDa64cF9D5638A935ae629'
      abi: Token
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/Token.ts
      abis:
        - name: Token
          file: ./abis/Token.json
      entities:
          - TransferEvent
          - ApprovalEvent
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
  - kind: ethereum/contract
    name: iBZRX
    network: mainnet
    source:
      address: '0x18240BD9C07fA6156Ce3F3f61921cC82b2619157'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iMKR
    network: mainnet
    source:
      address: '0x9189c499727f88F8eCC7dC4EEA22c828E6AaC015'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iDAI
    network: mainnet
    source:
      address: '0x6b093998D36f2C7F0cc359441FBB24CC629D5FF0'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUSDC
    network: mainnet
    source:
      address: '0x32E4c68B3A4a813b710595AebA7f6B7604Ab9c15'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUSDT
    network: mainnet
    source:
      address: '0x7e9997a38A439b2be7ed9c9C4628391d3e055D48'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iYFI
    network: mainnet
    source:
      address: '0x7F3Fe9D492A9a60aEBb06d82cBa23c6F32CAd10b'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iWBTC
    network: mainnet
    source:
      address: '0x2ffa85f655752fB2aCB210287c60b9ef335f5b6E'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iLINK
    network: mainnet
    source:
      address: '0x463538705E7d22aA7f03Ebf8ab09B067e1001B54'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iLEND
    network: mainnet
    source:
      address: '0xaB45Bf58c6482b87DA85D6688C4d9640E093BE98'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iKNC
    network: mainnet
    source:
      address: '0x687642347a9282Be8FD809d8309910A3f984Ac5a'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iAAVE
    network: mainnet
    source:
      address: '0x0cae8d91E0b1b7Bd00D906E990C3625b2c220db1'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iUNI
    network: mainnet
    source:
      address: '0x0a625FceC657053Fe2D9FFFdeb1DBb4e412Cf8A8'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iCOMP
    network: mainnet
    source:
      address: '0x6d29903BC2c4318b59B35d97Ab98ab9eC08Ed70D'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: iLRC
    network: mainnet
    source:
      address: '0x3dA0e01472Dee3746b4D324a65D7EdFaECa9Aa4f'
      abi: iToken
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/iToken.ts
      abis:
        - name: iToken
          file: ./abis/iToken.json
      entities:
          - TransferEvent
          - ApprovalEvent
          - MintEvent
          - BurnEvent
          - FlashBorrow
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Mint(indexed address,uint256,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,uint256)
          handler: handleBurn
        - event: FlashBorrow(address,address,address,uint256)
          handler: handleFlashBorrow
  - kind: ethereum/contract
    name: StakingConstants
    network: mainnet
    source:
      address: '0x16f179f5c344cc29672a58ea327a26f64b941a63'
      abi: StakingConstants
      startBlock: 10000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/StakingConstants.ts
      abis:
        - name: StakingConstants
          file: ./abis/StakingConstants.json
        - name: StakingInterface
          file: ./abis/StakingInterface.json
      entities:
          - StakeEvent
          - UnstakeEvent
          - AddRewardsEvent
          - ClaimEvent
          - ConvertFeesEvent
          - DistributeFeesEvent
          - WithdrawFeesEvent
      eventHandlers:
        - event: Stake(indexed address,indexed address,indexed address,uint256)
          handler: handleStake
        - event: Unstake(indexed address,indexed address,indexed address,uint256)
          handler: handleUnstake
        - event: AddRewards(indexed address,uint256,uint256)
          handler: handleAddRewards
        - event: Claim(indexed address,uint256,uint256)
          handler: handleClaim
        - event: ConvertFees(indexed address,uint256,uint256)
          handler: handleConvertFees
        - event: DistributeFees(indexed address,uint256,uint256)
          handler: handleDistributeFees
        - event: WithdrawFees(indexed address)
          handler: handleWithdrawFees
